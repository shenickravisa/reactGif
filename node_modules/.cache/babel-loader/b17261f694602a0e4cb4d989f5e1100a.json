{"ast":null,"code":"import _regeneratorRuntime from\"/home/cit-capacitacion/Desktop/new cursos/reactFirstSteps/04-intro-react/gif-expert-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/cit-capacitacion/Desktop/new cursos/reactFirstSteps/04-intro-react/gif-expert-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/cit-capacitacion/Desktop/new cursos/reactFirstSteps/04-intro-react/gif-expert-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//use al inicio significa que es un hook los hooks no son mas que funciones\nimport{useState,useEffect}from\"react\";import{getGif}from\"../helpers/getGif.js\";export var useFetchGifs=function useFetchGifs(category){var _useState=useState({data:[],loading:true}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){getGifService(category);},[category]);//mounted solo se ejecuta una sola vez cuando el componente se monta\n//categories como dependencia significa que el codigo se estara ejecutando n cantidad de veces mientras cambie de estado la prop\n//los use effects no pueden ser async\nvar getGifService=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(category){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getGif(category);case 3:res=_context.sent;setState({data:res,loading:false});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getGifService(_x){return _ref.apply(this,arguments);};}();return state;//{data:[], loading: true}\n};","map":{"version":3,"sources":["/home/cit-capacitacion/Desktop/new cursos/reactFirstSteps/04-intro-react/gif-expert-app/src/hooks/useFetchGifs.js"],"names":["useState","useEffect","getGif","useFetchGifs","category","data","loading","state","setState","getGifService","res","console","log"],"mappings":"umBAAA;AAEA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,MAAT,KAAuB,sBAAvB,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,QAAD,CAAc,eAEZJ,QAAQ,CAAC,CAC/BK,IAAI,CAAE,EADyB,CAE/BC,OAAO,CAAE,IAFsB,CAAD,CAFI,wCAE/BC,KAF+B,eAExBC,QAFwB,eAOtCP,SAAS,CAAC,UAAM,CACZQ,aAAa,CAACL,QAAD,CAAb,CACH,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAGA;AACA;AACA;AAEA,GAAMK,CAAAA,aAAa,0FAAG,iBAAOL,QAAP,gKAEEF,CAAAA,MAAM,CAACE,QAAD,CAFR,QAEVM,GAFU,eAGdF,QAAQ,CAAC,CACLH,IAAI,CAAEK,GADD,CAELJ,OAAO,CAAE,KAFJ,CAAD,CAAR,CAHc,+EAQdK,OAAO,CAACC,GAAR,cARc,oEAAH,kBAAbH,CAAAA,aAAa,4CAAnB,CAaA,MAAOF,CAAAA,KAAP,CAAa;AAChB,CA5BM","sourcesContent":["//use al inicio significa que es un hook los hooks no son mas que funciones\n\nimport { useState, useEffect } from \"react\"\nimport { getGif } from \"../helpers/getGif.js\";\n\nexport const useFetchGifs = (category) => {\n\n    const [state, setState] = useState({\n        data: [],\n        loading: true\n    })\n\n    useEffect(() => {\n        getGifService(category)\n    }, [category])\n    //mounted solo se ejecuta una sola vez cuando el componente se monta\n    //categories como dependencia significa que el codigo se estara ejecutando n cantidad de veces mientras cambie de estado la prop\n    //los use effects no pueden ser async\n\n    const getGifService = async (category) => {\n        try {\n            let res = await getGif(category);\n            setState({\n                data: res,\n                loading: false\n            });\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n\n    return state //{data:[], loading: true}\n}"]},"metadata":{},"sourceType":"module"}